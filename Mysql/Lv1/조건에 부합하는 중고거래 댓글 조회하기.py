"""
출처:프로그래머스,
https://school.programmers.co.kr/learn/courses/30/lessons/164673
"""
# 내 풀이 과정
"""
# 원하는 정보:Select 필요한 정보: 게시글 제목, 게시글 ID, 댓글 ID, 댓글 작성자 ID, 댓글 내용, 댓글 작성일
SELECT TITLE,USED_GOODS_BOARD.BOARD_ID,REPLY_ID,USED_GOODS_REPLY.WRITER_ID,USED_GOODS_REPLY.CONTENTS,DATE_FORMAT(USED_GOODS_REPLY.CREATED_DATE, '%Y-%m-%d') CREATED_DATE 

# 테이블 이름 내부 조인으로 두 개의 테이블 합치기 board_id를 기준으로 합치기
FROM USED_GOODS_BOARD
    Inner join USED_GOODS_REPLY
    On USED_GOODS_BOARD.BOARD_ID=USED_GOODS_REPLY.BOARD_ID
    
# 조건식
# % 이후는 아무거나 와도 상관없다는 의미
WHERE USED_GOODS_BOARD.CREATED_DATE LIKE '2022-10%'

# 댓글 작성일 기준으로 한 후 > 게시물 제목 기준으로 
order by USED_GOODS_REPLY.CREATED_DATE, TITLE 

# 열 이름
# GROUP BY 

# 조건식
# HAVING

# 열_이름 
# ORDER BY

# 숫자
# LIMIT
"""

"""
부족한 부분과 생각들
두 가지 데이터 테이블을 가져오기 방법,
select,from,where,group by, having, order by, limit 쓰임새와 의미 정확하게 파악하기
각각의 어법을 단순하게 응용하기 위해 세부적으로 쓰이는 것에 대한 이해와 함께
여럭 가지 방향성에서의 풀이를 검토하기
"""

# 풀이과정_개선 중
"""
# 원하는 정보:Select
SELECT TITLE,USED_GOODS_BOARD.BOARD_ID,REPLY_ID,USED_GOODS_BOARD.WRITER_ID,USED_GOODS_BOARD.CONTENTS,USED_GOODS_BOARD.CREATED_DATE

# 테이블 이름
FROM USED_GOODS_BOARD,USED_GOODS_REPLY

# 조건식
WHERE USED_GOODS_BOARD.CREATED_DATE LIKE '2022-10%'

# 열 이름
# GROUP BY 

# 조건식
# HAVING

# 열_이름 
# ORDER BY

# 숫자
# LIMIT
"""

# 풀이과정_개선 중
"""
SELECT TITLE, USED_GOODS_BOARD.BOARD_ID, REPLY_ID,USED_GOODS_REPLY.WRITER_ID,USED_GOODS_REPLY.CONTENTS, USED_GOODS_REPLY.CREATED_DATE
    from USED_GOODS_BOARD
        join USED_GOODS_REPLY
        on USED_GOODS_BOARD.BOARD_ID =USED_GOODS_REPLY.BOARD_ID
    where USED_GOODS_REPLY.CREATED_DATE Like "2022-10%"
    order by USED_GOODS_REPLY.CREATED_DATE  asc, USED_GOODS_BOARD.TITLE asc;
"""

# 다른 사람 풀이
"""
SELECT TITLE, BOARD.BOARD_ID, REPLY_ID, REPLY.WRITER_ID, REPLY.CONTENTS, DATE_FORMAT(REPLY.CREATED_DATE, '%Y-%m-%d') AS CREATED_DATE
FROM USED_GOODS_REPLY AS REPLY
LEFT JOIN USED_GOODS_BOARD AS BOARD
ON REPLY.BOARD_ID=BOARD.BOARD_ID
WHERE DATE_FORMAT(BOARD.CREATED_DATE, '%Y-%m') = '2022-10'
ORDER BY REPLY.CREATED_DATE, TITLE```


#2
SELECT UGB.TITLE, UGB.BOARD_ID, UGR.REPLY_ID, UGR.WRITER_ID, UGR.CONTENTS, DATE_FORMAT(UGR.CREATED_DATE, '%Y-%m-%d') AS CREATED_DATE
FROM USED_GOODS_BOARD UGB
JOIN USED_GOODS_REPLY UGR ON UGB.BOARD_ID = UGR.BOARD_ID
WHERE YEAR(UGB.CREATED_DATE) = '2022' AND MONTH(UGB.CREATED_DATE)='10'
ORDER BY UGR.CREATED_DATE ASC, UGB.TITLE ASC;
"""

#3
"""
-- 코드를 입력하세요
SELECT B.TITLE, B.BOARD_ID, R.REPLY_ID, R.WRITER_ID, R.CONTENTS, 
DATE_FORMAT(R.CREATED_DATE,"%Y-%m-%d") AS CREATED_DATE
FROM USED_GOODS_BOARD AS B  
INNER JOIN USED_GOODS_REPLY AS R 
ON B.BOARD_ID = R.BOARD_ID 
WHERE MONTH(B.CREATED_DATE) = 10
ORDER BY R.CREATED_DATE ASC,  B.TITLE ASC;
"""