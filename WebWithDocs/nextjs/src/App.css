/* src/App.css (전면 개편: Header, Button, Global Styles) */

/* ---------------------------------------------------------------- */
/* --- A. 레이아웃 (Layout) --- */
/* ---------------------------------------------------------------- */
#root {
  max-width: 100%; 
  margin: 0;
  padding: 0; 
  text-align: center;
}

main {
    /* 콘텐츠 영역 확장 및 좌우 패딩 증가로 여백 확보 */
    max-width: 1100px; 
    margin: 0 auto;
    padding: 30px 4rem; 
    min-height: calc(100vh - 80px); 
    padding-bottom: 100px; 
    text-align: left; 
}

/* ---------------------------------------------------------------- */
/* --- B. 헤더 (Header) - Brunch/Leedo 스타일 적용 --- */
/* ---------------------------------------------------------------- */
header {
  width: 100%; 
  background-color: var(--color-primary); 
  border-bottom: 1px solid var(--color-border);
  position: sticky;
  top: 0;
  z-index: 500;
  box-shadow: 0 1px 5px var(--color-shadow); 
}

header > div { 
    max-width: 1100px; 
    margin: 0 auto;
    padding: 18px 4rem; 
    display: flex;
    justify-content: space-between; 
    align-items: center;
}

.logo a {
    font-size: 1.8rem;
    font-weight: 900;
    color: var(--color-accent);
    text-decoration: none;
    transition: color 0.2s;
}

.logo a:hover {
    color: var(--color-accent-hover);
}

header nav {
    display: flex;
    align-items: center;
    gap: 20px;
}

header nav a {
    color: var(--color-text-main);
    text-decoration: none;
    font-weight: 500;
    padding: 5px 10px;
    border-radius: 4px;
    transition: background-color 0.2s;
}

header nav a:hover,
header nav a.active {
    background-color: var(--color-secondary);
}

.global-theme-toggle {
    background: none;
    border: none;
    font-size: 1.2rem;
    cursor: pointer;
    margin-left: 10px;
    padding: 5px;
    line-height: 1;
    transition: opacity 0.2s;
}

.global-theme-toggle:hover {
    opacity: 0.7;
}

/* ---------------------------------------------------------------- */
/* --- C. 컴포넌트 공통 스타일 --- */
/* ---------------------------------------------------------------- */
.loading-message, .error-message {
    text-align: center;
    color: var(--color-text-sub);
    padding: 30px 0;
    font-style: italic;
}

.tag-badge {
    display: inline-block;
    padding: 5px 10px;
    margin-right: 5px;
    border-radius: 20px;
    font-size: 0.8em;
    font-weight: 600;
    background-color: var(--color-secondary);
    color: var(--color-text-main);
    white-space: nowrap;
}

.post-list-card {
    display: flex;
    flex-direction: column;
    padding: 25px;
    border-radius: 10px;
    text-decoration: none;
    color: inherit;
    background-color: var(--color-primary);
    border: 1px solid var(--color-border);
    box-shadow: 0 4px 10px var(--color-shadow);
    transition: all 0.3s ease;
    height: 100%;
}

.post-list-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px var(--color-shadow);
    border-color: var(--color-accent); 
}

.post-list-card h2 {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--color-text-main);
    margin-top: 0;
    margin-bottom: 10px;
    line-height: 1.3;
}

.post-list-card p {
    font-size: 1em;
    color: var(--color-text-sub);
    line-height: 1.6;
    margin-bottom: 10px;
}

.post-list-card-meta {
    font-size: 0.85em;
    color: var(--color-text-sub);
    display: flex;
    gap: 15px;
    margin-top: 15px;
}

/* 게시글 상세 페이지 버튼 그룹 */
.post-action-buttons {
    display: flex;
    gap: 15px;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid var(--color-border);
    justify-content: flex-end; 
}

/* 페이지네이션 */
.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    margin-top: 40px;
}
.pagination-controls button {
    padding: 10px 20px;
}

/* ---------------------------------------------------------------- */
/* --- D. 버튼 및 링크 스타일 --- */
/* ---------------------------------------------------------------- */
.btn-primary, .btn-secondary, .btn-danger {
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 1em;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s ease;
    text-decoration: none; /* Link 사용 시 */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
}

.btn-primary {
    background-color: var(--color-accent);
    color: white;
    border: 1px solid var(--color-accent);
}

.btn-primary:hover:not(:disabled) {
    background-color: var(--color-accent-hover);
    border-color: var(--color-accent-hover);
}

.btn-secondary {
    background-color: var(--color-secondary);
    color: var(--color-text-main);
    border: 1px solid var(--color-border);
}

.btn-secondary:hover:not(:disabled) {
    background-color: var(--color-border);
    border-color: var(--color-text-sub);
}

.btn-danger {
    background-color: var(--color-danger);
    color: white;
    border: 1px solid var(--color-danger);
}

.btn-danger:hover:not(:disabled) {
    background-color: #c0392b;
    border-color: #c0392b;
}

.btn-primary:disabled, .btn-secondary:disabled, .btn-danger:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.btn-link-primary {
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 600;
}

.btn-link-primary:hover {
    text-decoration: underline;
}

/* ---------------------------------------------------------------- */
/* --- E. 폼 공통 스타일 (WritePost.jsx에서 사용) --- */
/* ---------------------------------------------------------------- */

.post-form-input, .post-form-textarea, .comment-form textarea {
    width: 100%;
    padding: 15px;
    border: 1px solid var(--color-border);
    border-radius: 8px;
    background-color: var(--color-secondary);
    color: var(--color-text-main);
    font-size: 1em;
    transition: border-color 0.2s;
    /* PostDetail의 가독성 좋은 폰트 크기 사용 */
    line-height: 1.6;
}

.post-form-input:focus, .post-form-textarea:focus, .comment-form textarea:focus {
    border-color: var(--color-accent);
    outline: none;
    box-shadow: 0 0 0 3px var(--color-accent-translucent);
}

.post-form-input::placeholder, .post-form-textarea::placeholder, .comment-form textarea::placeholder {
    color: var(--color-text-sub);
    opacity: 0.7;
}

.post-form-textarea {
    resize: vertical;
}

/* ---------------------------------------------------------------- */
/* --- F. WritePost.jsx: Markdown 에디터 레이아웃 (추가) --- */
/* ---------------------------------------------------------------- */
.write-post-page .page-title {
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--color-text-main);
    margin-bottom: 40px;
}

.post-form-textarea {
    /* 일반 폼 스타일에서 flex-grow를 위해 height를 auto로 변경 */
    height: 100%; 
    min-height: 300px;
    resize: none; /* 크기 조절 방지 */
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace; /* 코드 친화적인 폰트 */
    font-size: 0.95em;
}

.markdown-editor-container {
    display: flex;
    gap: 20px;
    margin-bottom: 25px;
    height: 600px; /* 에디터와 미리보기 높이 고정 */
    min-height: 400px;
}

.editor-panel, .preview-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    border: 1px solid var(--color-border);
    border-radius: 8px;
    overflow: hidden;
    background-color: var(--color-primary);
    box-shadow: 0 2px 5px var(--color-shadow);
}

.editor-panel .post-form-textarea {
    border: none;
    border-radius: 0;
    padding: 20px;
    flex-grow: 1; /* 남은 공간 모두 차지 */
}

.panel-label {
    padding: 10px 20px;
    margin: 0;
    font-weight: 600;
    font-size: 0.9em;
    color: var(--color-text-sub);
    border-bottom: 1px solid var(--color-border);
    background-color: var(--color-secondary); /* 보조 배경색 사용 */
}

.markdown-preview-area {
    padding: 20px;
    overflow-y: auto; /* 미리보기 영역 스크롤 */
    flex-grow: 1;
    background-color: var(--color-primary);
}

/* ---------------------------------------------------------------- */
/* --- G. Markdown 렌더링 스타일 (PostDetail/WritePost 공통) (추가) --- */
/* ---------------------------------------------------------------- */

.markdown-body {
    /* PostDetail의 기본 폰트 스타일을 따릅니다. */
    color: var(--color-text-main);
    line-height: 1.8; 
    font-size: 1.15em; 
}

/* 코드 블록 스타일 (개발자 블로그 핵심!) */
.markdown-code-block {
    background-color: var(--color-secondary); /* 보조 배경색 */
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto; /* 긴 코드를 위한 스크롤 */
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 0.9em;
    margin: 20px 0;
    line-height: 1.5;
}

.markdown-code-block code {
    /* Syntax Highlighter가 있을 경우 해당 스타일로 덮어쓰여집니다. */
    color: var(--color-text-main); 
}

/* 인라인 코드 스타일 */
.markdown-inline-code {
    background-color: var(--color-accent-translucent); /* 강조색의 투명한 버전 */
    color: var(--color-accent); /* 강조색 텍스트 */
    padding: 2px 5px;
    border-radius: 4px;
    font-size: 0.9em;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* 헤더 스타일 (PostDetail 제목과 겹치지 않게) */
.markdown-h1, .markdown-h2, .markdown-h3, .markdown-h4, .markdown-h5, .markdown-h6 {
    font-weight: 700;
    line-height: 1.4;
    margin-top: 30px;
    margin-bottom: 15px;
}

.markdown-h1 { font-size: 2em; border-bottom: 2px solid var(--color-border); padding-bottom: 5px; }
.markdown-h2 { font-size: 1.6em; border-bottom: 1px solid var(--color-border); padding-bottom: 3px; }
.markdown-h3 { font-size: 1.3em; }
.markdown-h4 { font-size: 1.15em; }

/* 리스트 스타일 */
.markdown-body ul, .markdown-body ol {
    padding-left: 20px;
    margin: 15px 0;
}

/* 인용구 스타일 */
.markdown-blockquote {
    border-left: 4px solid var(--color-accent);
    padding: 10px 20px;
    margin: 20px 0;
    background-color: var(--color-secondary);
    color: var(--color-text-sub);
    font-style: italic;
    border-radius: 4px;
}

/* 링크 스타일 */
.markdown-body a {
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 500;
}

.markdown-body a:hover {
    text-decoration: underline;
}

/* 이미지 스타일 (있다면) */
.markdown-body img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 20px auto;
    border-radius: 8px;
    box-shadow: 0 4px 10px var(--color-shadow);
}

/* 테이블 스타일 */
.markdown-body table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 0.9em;
}

.markdown-body th, .markdown-body td {
    border: 1px solid var(--color-border);
    padding: 12px;
    text-align: left;
}

.markdown-body th {
    background-color: var(--color-secondary);
    font-weight: 600;
}

/* ---------------------------------------------------------------- */
/* --- H. 글쓰기/수정 페이지 (WritePost) - 마크다운 에디터 스타일 --- */
/* ---------------------------------------------------------------- */

/* 에디터와 미리보기 컨테이너 (50:50 분할) */
.markdown-editor-container {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

/* 각 분할 영역 */
.editor-pane {
    flex: 1; /* 50% 너비 */
    display: flex;
    flex-direction: column;
}

.editor-label {
    font-weight: 700;
    color: var(--color-text-main);
    margin-bottom: 10px;
    font-size: 1.1em;
    padding-left: 5px;
}

/* 텍스트 입력 영역 (Markdown Input) */
.post-form-textarea.editor-input {
    min-height: 400px; /* 에디터 높이 지정 */
    font-family: 'Consolas', 'Courier New', monospace; /* 코딩용 폰트 적용 */
    font-size: 0.95em;
    padding: 15px;
    border-radius: 8px;
    resize: vertical; /* 수직으로만 크기 조정 허용 */
}

/* 미리보기 영역 패널 */
.preview-pane {
    background-color: var(--color-secondary); /* 보조 배경 색상 사용 */
    border: 1px solid var(--color-border);
    border-radius: 10px;
    overflow-y: auto; /* 내용이 길면 스크롤 가능 */
}

.post-form-preview {
    /* 미리보기 패딩은 에디터와 동일하게 설정 */
    padding: 15px;
    min-height: 400px; /* 에디터와 동일 높이 */
    line-height: 1.7;
    font-size: 1em;
    color: var(--color-text-main);
    word-break: break-word; /* 긴 단어 줄 바꿈 */
}

/* --- 미리보기 영역 내 마크다운 요소 스타일링 (가독성 향상) --- */
.post-form-preview h1, .post-form-preview h2, .post-form-preview h3 {
    margin-top: 25px;
    margin-bottom: 15px;
    color: var(--color-accent); /* 제목 강조 */
}

.post-form-preview h1 {
    font-size: 1.8em;
    border-bottom: 2px solid var(--color-border);
    padding-bottom: 5px;
}

.post-form-preview strong {
    font-weight: 700;
    color: var(--color-text-main);
}

.post-form-preview pre {
    background-color: var(--color-background); /* 코드 블록 배경 */
    border: 1px solid var(--color-border);
    padding: 10px;
    overflow-x: auto;
    border-radius: 6px;
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 0.9em;
    margin: 15px 0;
}

/* 모바일/좁은 화면에서의 반응형 디자인 */
@media (max-width: 900px) {
    .markdown-editor-container {
        flex-direction: column; /* 세로로 쌓기 */
        gap: 30px;
    }

    .post-form-textarea.editor-input,
    .post-form-preview {
        min-height: 300px; /* 세로로 쌓였을 때 높이 조정 */
    }
}